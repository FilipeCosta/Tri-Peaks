webpackJsonp([1],{"4sKg":function(t,e){},"70A+":function(t,e){t.exports=[{number:1,type:13,src:"/static/images/cards/1.png",visible:!0},{number:2,type:13,src:"/static/images/cards/2.png",visible:!0},{number:3,type:13,src:"/static/images/cards/3.png",visible:!0},{number:4,type:13,src:"/static/images/cards/4.png",visible:!0},{number:5,type:12,src:"/static/images/cards/5.png",visible:!0},{number:6,type:12,src:"/static/images/cards/6.png",visible:!0},{number:7,type:12,src:"/static/images/cards/7.png",visible:!0},{number:8,type:12,src:"/static/images/cards/8.png",visible:!0},{number:9,type:11,src:"/static/images/cards/9.png",visible:!0},{number:10,type:11,src:"/static/images/cards/10.png",visible:!0},{number:11,type:11,src:"/static/images/cards/11.png",visible:!0},{number:12,type:11,src:"/static/images/cards/12.png",visible:!0},{number:13,type:10,src:"/static/images/cards/13.png",visible:!0},{number:14,type:10,src:"/static/images/cards/14.png",visible:!0},{number:15,type:10,src:"/static/images/cards/15.png",visible:!0},{number:16,type:10,src:"/static/images/cards/16.png",visible:!0},{number:17,type:9,src:"/static/images/cards/17.png",visible:!0},{number:18,type:9,src:"/static/images/cards/18.png",visible:!0},{number:19,type:9,src:"/static/images/cards/19.png",visible:!0},{number:20,type:9,src:"/static/images/cards/20.png",visible:!0},{number:21,type:8,src:"/static/images/cards/21.png",visible:!0},{number:22,type:8,src:"/static/images/cards/22.png",visible:!0},{number:23,type:8,src:"/static/images/cards/23.png",visible:!0},{number:24,type:8,src:"/static/images/cards/24.png",visible:!0},{number:25,type:7,src:"/static/images/cards/25.png",visible:!0},{number:26,type:7,src:"/static/images/cards/26.png",visible:!0},{number:27,type:7,src:"/static/images/cards/27.png",visible:!0},{number:28,type:7,src:"/static/images/cards/28.png",visible:!0},{number:29,type:6,src:"/static/images/cards/29.png",visible:!0},{number:30,type:6,src:"/static/images/cards/30.png",visible:!0},{number:31,type:6,src:"/static/images/cards/31.png",visible:!0},{number:32,type:6,src:"/static/images/cards/32.png",visible:!0},{number:33,type:5,src:"/static/images/cards/33.png",visible:!0},{number:34,type:5,src:"/static/images/cards/34.png",visible:!0},{number:35,type:5,src:"/static/images/cards/35.png",visible:!0},{number:36,type:5,src:"/static/images/cards/36.png",visible:!0},{number:37,type:4,src:"/static/images/cards/37.png",visible:!0},{number:38,type:4,src:"/static/images/cards/38.png",visible:!0},{number:39,type:4,src:"/static/images/cards/39.png",visible:!0},{number:40,type:4,src:"/static/images/cards/40.png",visible:!0},{number:41,type:3,src:"/static/images/cards/41.png",visible:!0},{number:42,type:3,src:"/static/images/cards/42.png",visible:!0},{number:43,type:3,src:"/static/images/cards/43.png",visible:!0},{number:44,type:3,src:"/static/images/cards/44.png",visible:!0},{number:45,type:2,src:"/static/images/cards/45.png",visible:!0},{number:46,type:2,src:"/static/images/cards/46.png",visible:!0},{number:47,type:2,src:"/static/images/cards/47.png",visible:!0},{number:48,type:2,src:"/static/images/cards/48.png",visible:!0},{number:49,type:1,src:"/static/images/cards/49.png",visible:!0},{number:50,type:1,src:"/static/images/cards/50.png",visible:!0},{number:51,type:1,src:"/static/images/cards/51.png",visible:!0},{number:52,type:1,src:"/static/images/cards/52.png",visible:!0}]},CtLg:function(t,e){},DZNq:function(t,e){},DvlS:function(t,e){},ElBi:function(t,e){},K872:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{key:this.currentKey})],1)},staticRenderFns:[]};var a=r("VU/8")({name:"App",computed:{currentKey:function(){return this.$store.getters.getCurrentKey}}},i,!1,function(t){r("DvlS")},null,null).exports,n=r("/ocq"),c=r("70A+"),o=r.n(c),d={methods:{removeCardHandler:function(t,e){var r=t.type+1,s=t.type-1,i=1===this.currentCard.type&&13===t.type,a=13===this.currentCard.type&&1===t.type,n=r===this.currentCard.type||s===this.currentCard.type;return i||a||n}}},u={props:{cardNumber:{type:Number,default:-1}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[-1===t.cardNumber?r("img",{attrs:{src:"/static/images/cardThemes/blue.png",alt:""},on:{click:function(e){t.$emit("show")}}}):r("img",{staticClass:"card__visible",attrs:{src:"/static/images/cards/"+t.cardNumber+".png",alt:""},on:{click:function(e){t.$emit("click")}}})])},staticRenderFns:[]};var l=r("VU/8")(u,m,!1,function(t){r("sjFc")},"data-v-56cbc250",null).exports,p={mixins:[d],components:{Card:l},props:{towerBottomShowCards:{type:Array,required:!0},pyramidNumber:{type:String,required:!0}},methods:{removeCard:function(t,e){this.removeCardHandler(t)&&(this.$set(this.pyramid,e,null),this.$store.commit("setPyramid"+this.pyramidNumber,this.pyramid),this.$store.commit("setCurrentCard",t),this.$store.commit("setCurrentScore",12))}},computed:{currentCard:function(){return this.$store.getters.getCurrentCard},showTopCard:function(){return null==this.pyramid[4]&&null==this.pyramid[5]&&null!=this.pyramid[3]},showMiddleLevelLeft:function(){return null==this.pyramid[0]&&null==this.pyramid[1]&&null!=this.pyramid[5]},showMiddleLevelRight:function(){return null==this.pyramid[1]&&null==this.pyramid[2]&&null!=this.pyramid[4]},showLastLevelLeft:function(){return!this.towerBottomShowCards[0].visible&&!this.towerBottomShowCards[1].visible&&null!=this.pyramid[0]},showLastLevelMiddle:function(){return!this.towerBottomShowCards[1].visible&&!this.towerBottomShowCards[2].visible&&null!=this.pyramid[1]},showLastLevelRight:function(){return!this.towerBottomShowCards[2].visible&&!this.towerBottomShowCards[3].visible&&null!=this.pyramid[2]},pyramid:function(){return this.$store.getters["getPyramid"+this.pyramidNumber]}}},g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tower1"},[r("div",{staticClass:"tower1__top-card"},[r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[3]}},[t.showTopCard?r("card",{staticClass:"tower1__top-card-image  tower1__second-level-images",attrs:{"card-number":t.pyramid[3].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[3],3)}}}):r("card",{staticClass:"tower1__top-card-image",attrs:{alt:""}})],1),t._v(" "),r("div",{staticClass:"tower1__second-level"},[r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[5]}},[t.showMiddleLevelLeft?r("card",{staticClass:"tower1__top-card-image tower1__second-level-images",attrs:{"card-number":t.pyramid[5].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[5],5)}}}):r("card",{staticClass:"tower1__top-card-image tower1__second-level-images",attrs:{alt:""}})],1),t._v(" "),r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[4]}},[t.showMiddleLevelRight?r("card",{staticClass:"tower1__top-card-image tower1__second-level-images",attrs:{"card-number":t.pyramid[4].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[4],4)}}}):r("card",{staticClass:"tower1__top-card-image tower1__second-level-images",attrs:{alt:""}})],1)]),t._v(" "),r("div",{staticClass:"tower1__third-level"},[r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[0]}},[t.showLastLevelLeft?r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{"card-number":t.pyramid[0].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[0],0)}}}):r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{alt:""}})],1),t._v(" "),r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[1]}},[t.showLastLevelMiddle?r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{"card-number":t.pyramid[1].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[1],1)}}}):r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{alt:""}})],1),t._v(" "),r("div",{class:{"tower1__top-card-image--hide":null==t.pyramid[2]}},[t.showLastLevelRight?r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{"card-number":t.pyramid[2].number,alt:""},on:{click:function(e){t.removeCard(t.pyramid[2],2)}}}):r("card",{staticClass:"tower1__top-card-image tower1__third-level-images",attrs:{alt:""}})],1)])])])},staticRenderFns:[]};var v=r("VU/8")(p,g,!1,function(t){r("K872")},null,null).exports,h=r("M4fF"),_={props:{deckCards:{type:Array,required:!0}},computed:{currentCard:function(){return this.$store.getters.getCurrentCard}},methods:{refreshCurrentCard:function(){this.$store.commit("setCurrentCard",Object(h.cloneDeep)(this.deckCards.pop()))}},beforeMount:function(){this.refreshCurrentCard()},components:{Card:l}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"triPack"},[t._l(t.deckCards,function(e,s){return r("card",{key:e.number,staticClass:"triPack__deck",style:{left:30*-s},attrs:{cardNumber:-1,alt:""},on:{show:function(e){t.refreshCurrentCard()}}})}),t._v(" "),r("div",{staticClass:"triPack__currentCard"},[r("card",{attrs:{cardNumber:t.currentCard.number,alt:""}}),t._v(">\n  ")],1)],2)},staticRenderFns:[]};var y=r("VU/8")(_,b,!1,function(t){r("u1xA")},null,null).exports,f={mixins:[d],props:{deckCards:{type:Array,required:!0}},computed:{towerLine:function(){return this.$store.getters.getTowerLineCards},currentCard:function(){return this.$store.getters.getCurrentCard}},methods:{removeCard:function(t,e){this.removeCardHandler(t)&&(this.$store.commit("changeVisibility",e),this.$store.commit("setCurrentCard",t),this.$store.commit("setCurrentScore",12))}},components:{triPack:y,Card:l}},C={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"towerLine-wrapper"},[r("div",{staticClass:"towerLine"},[t._l(t.towerLine,function(e,s){return[r("card",{key:e.number,staticClass:"towerLine__image",class:{"towerLine--hide":!e.visible},attrs:{cardNumber:e.number,alt:"card"},on:{click:function(r){t.removeCard(e,s)}}})]})],2),t._v(" "),r("tri-pack",{attrs:{deckCards:t.deckCards}})],1)},staticRenderFns:[]};var w=r("VU/8")(f,C,!1,function(t){r("CtLg")},null,null).exports,k=r("fZjL"),S=r.n(k),R=r("mvHQ"),L=r.n(R),$=r("kxiW"),T=r.n($),U={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tri-modal"},[this._t("default")],2)},staticRenderFns:[]};var N=r("VU/8")({},U,!1,function(t){r("hHgz")},null,null).exports,E={props:{name:{type:String,required:!0},score:{type:String,required:!0}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tri-ranking-row"},[e("div",{staticClass:"tri-ranking-row__name"},[this._v("\n    "+this._s(this.name)+"\n  ")]),this._v(" "),e("div",{staticClass:"tri-ranking-row__score"},[this._v("\n    "+this._s(this.score)+"\n  ")])])},staticRenderFns:[]};var x=r("VU/8")(E,P,!1,function(t){r("ElBi")},null,null).exports,M={data:function(){return{submited:!1,name:"",loading:!1,ranking:[],showInsertScore:!0}},props:{keyToRemove:{type:String,default:null},jumpToRanking:{type:Boolean,default:!1}},methods:{saveScore:function(){this.loading=!0,this.keyToRemove&&T.a.database().ref().push({username:this.name,score:this.score}),this.showInsertScore=!1,this.getRanking()},getRanking:function(){var t=this;this.loading=!0;var e=[];T.a.database().ref().on("value",function(r){r.forEach(function(t){var r=t.val();e.push({name:r.username,score:r.score})}),t.ranking=e.sort(function(t,e){return e.score-t.score}),t.loading=!1})}},components:{triModal:N,triRankingRow:x},computed:{score:function(){return this.$store.getters.getCurrentScore}},beforeMount:function(){this.getRanking()}},V={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tri-ranking"},[r("tri-modal",[t.showInsertScore&&!t.jumpToRanking?r("div",{staticClass:"tri-ranking-info-wrapper"},[r("div",{staticClass:"tri-ranking-info__name"},[t._v("Enter your name")]),t._v(" "),t.submited?t._e():r("div",{staticClass:"tri-ranking-info"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"tri-ranking-info__input",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("button",{staticClass:"tri-ranking-info__button",on:{click:t.saveScore}},[t._v("Submit")])])]):t._e(),t._v(" "),!t.showInsertScore||t.jumpToRanking?r("div",{staticClass:"tri-ranking-main"},[t.loading?r("div",{staticClass:"loader",attrs:{id:"loader-1"}}):t._e(),t._v(" "),t.loading?t._e():[r("div",{staticClass:"tri-ranking-main__title"},[t._v("Ranking")]),t._v(" "),r("div",{staticClass:"tri-ranking-main-wrapper"},t._l(t.ranking,function(t,e){return r("tri-ranking-row",{key:e,staticClass:"tri-ranking-main__line",attrs:{score:t.score,name:t.name}})}))]],2):t._e()])],1)},staticRenderFns:[]};var j={methods:{saveScore:function(){localStorage.setItem("score",L()(this.score)),this.$store.commit("updateKey",this.generateRandomToken()),this.getRanking()},giveUp:function(){0!==this.score&&(this.getRankingEntrys()<5?this.jumpToRanking=!1:this.removeLowestEntry()),this.showRanking=!0},getRankingEntrys:function(){var t=0;return T.a.database().ref().on("value",function(e){e.forEach(function(e){t++})}),t},removeLowestEntry:function(){var t=this;T.a.database().ref().orderByChild("value").limitToFirst(1).on("value",function(e){var r=S()(e.val())[0];t.score>parseInt(e.val()[r].score)?(t.jumpToRanking=!1,t.keyToRemove=r):t.jumpToRanking=!0}),null!=this.keyToRemove&&(this.jumpToRanking=!1)},generateRandomToken:function(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"],e="",r=1;r<8;r++){e+=t[Math.ceil(Math.random()*t.length)-1]}return e}},computed:{score:function(){return this.$store.getters.getCurrentScore}},components:{triModal:N,triRanking:r("VU/8")(M,V,!1,function(t){r("V+Nd")},"data-v-03ba98df",null).exports},data:function(){return{showRanking:!1,keyToRemove:null,jumpToRanking:!1}}},A={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showRanking?r("tri-ranking",{attrs:{jumpToRanking:t.jumpToRanking,keyToRemove:t.keyToRemove}}):r("div",{staticClass:"game-end"},[r("tri-modal",[r("img",{attrs:{width:"60",src:"/static/images/background/Pharaoh.png",alt:""}}),t._v(" "),r("div",{staticClass:"game-end__wrapper"},[r("div",{staticClass:"game-end__text"},[t._v("\r\n        Congratulation "),r("br"),t._v(" You Win\r\n      ")]),t._v(" "),r("div",{staticClass:"game-end__buttons"},[r("button",{staticClass:"game-end__continue",on:{click:t.saveScore}},[t._v("Continue")]),t._v(" "),r("button",{staticClass:"game-end__stop",on:{click:function(e){t.giveUp()}}},[t._v("Stop Playing")])])]),t._v(" "),r("img",{staticClass:"game-end__mirror",attrs:{width:"60",src:"/static/images/background/Pharaoh.png",alt:""}})])],1)},staticRenderFns:[]};var B={methods:{giveUp:function(){location.reload()}}},F={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"giveUp"},[r("div",{staticClass:"giveUp__text"},[t._v("Are you sure you want to give up?")]),t._v(" "),r("div",{staticClass:"giveUp__buttons"},[r("button",{staticClass:"giveUp__continue",on:{click:t.giveUp}},[t._v("Yes")]),t._v(" "),r("button",{staticClass:"giveUp__stop",on:{click:function(e){t.$emit("isNotGiveUp")}}},[t._v("No")])])])},staticRenderFns:[]};var K={name:"gameWrapper",data:function(){return{deckCards:[],pyramid1:[],pyramid2:[],pyramid3:[],giveUp:!1}},components:{triTower:v,towerLine:w,gameEnd:r("VU/8")(j,A,!1,function(t){r("DZNq")},"data-v-000cc9c0",null).exports,giveUp:r("VU/8")(B,F,!1,function(t){r("4sKg")},"data-v-0b627315",null).exports},computed:{score:function(){return this.$store.getters.getCurrentScore},towersEmpty:function(){return this.$store.getters.checkEmptyTowers},towerOneShowCards:function(){return this.$store.getters.getTowerLineCards.slice(0,4)},towerTwoShowCards:function(){return this.$store.getters.getTowerLineCards.slice(3,7)},towerThreeShowCards:function(){return this.$store.getters.getTowerLineCards.slice(6,10)}},methods:{shuffle:function(t){for(var e,r,s=t.length;0!==s;)r=Math.floor(Math.random()*s),e=t[s-=1],t[s]=t[r],t[r]=e;return t}},beforeMount:function(){""===this.$store.getters.getCurrentKey&&(this.$store.commit("setCurrentScore",0),null!==localStorage.getItem("score")&&localStorage.setItem("score","0"));for(var t=this.shuffle(o.a),e=[],r=0;r<52;r++)r<6?(t[r].blueVisible=!0,this.pyramid1.push(t[r])):r<12?(t[r].blueVisible=!0,this.pyramid2.push(t[r])):r<18?(t[r].blueVisible=!0,this.pyramid3.push(t[r])):r<28?e.push(t[r]):this.deckCards.push(t[r]);this.$store.commit("setTowerLineCards",e),this.$store.commit("setPyramid1",this.pyramid1),this.$store.commit("setPyramid2",this.pyramid2),this.$store.commit("setPyramid3",this.pyramid3),null!==localStorage.getItem("score")&&this.$store.commit("setScore",JSON.parse(localStorage.getItem("score")))}},q={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gameWrapper"},[t.towersEmpty?r("game-end"):t._e(),t._v(" "),t.giveUp?r("give-up",{on:{isNotGiveUp:function(e){t.giveUp=!1}}}):t._e(),t._v(" "),r("div",{staticClass:"triPeaks__wrapper"},[r("div",{staticClass:"triPeaks__info"},[r("div",{staticClass:"triPeaks__score"},[t._v("Score: "+t._s(t.score))]),t._v(" "),r("div",{staticClass:"triPeaks__help",on:{click:function(e){t.giveUp=!0}}},[t._v("\n        Give up\n      ")])]),t._v(" "),r("div",{staticClass:"triPeaks"},[r("tri-tower",{staticClass:"tower",attrs:{pyramidNumber:"1",towerBottomShowCards:t.towerOneShowCards}}),t._v(" "),r("tri-tower",{staticClass:"tower",attrs:{pyramidNumber:"2",towerBottomShowCards:t.towerTwoShowCards}}),t._v(" "),r("tri-tower",{staticClass:"tower",attrs:{pyramidNumber:"3",towerBottomShowCards:t.towerThreeShowCards}})],1),t._v(" "),r("div",{staticClass:"triPeaks__line"},[r("tower-line",{attrs:{deckCards:t.deckCards}})],1)])],1)},staticRenderFns:[]};var I=r("VU/8")(K,q,!1,function(t){r("aAi1")},"data-v-cc11794a",null).exports,H=r("zL8q");s.default.use(n.a),s.default.use(H.Loading);var z=new n.a({routes:[{path:"/",name:"GameWrapper",component:I}]}),D=r("NYxO");s.default.use(D.a);var O=new D.a.Store({state:{currentCard:{},towerLine:[],pyramid1:[],pyramid2:[],pyramid3:[],score:0,appKey:""},getters:{getCurrentCard:function(t){return t.currentCard},getCurrentScore:function(t){return t.score},getTowerLineCards:function(t){return t.towerLine},getPyramid1:function(t){return t.pyramid1},getPyramid2:function(t){return t.pyramid2},getPyramid3:function(t){return t.pyramid3},getCurrentKey:function(t){return t.appKey},checkEmptyTowers:function(t){return null==t.pyramid1[3]&&null==t.pyramid2[3]&&null==t.pyramid3[3]}},mutations:{updateKey:function(t,e){t.appKey=e},setCurrentCard:function(t,e){t.currentCard=e},setCurrentScore:function(t,e){t.score+=e},setScore:function(t,e){t.score=e},setTowerLineCards:function(t,e){t.towerLine=e},changeVisibility:function(t,e){t.towerLine[e].visible=!1},setPyramid1:function(t,e){t.pyramid1=e},setPyramid2:function(t,e){t.pyramid2=e},setPyramid3:function(t,e){t.pyramid3=e}}});T.a.initializeApp({apiKey:"AIzaSyA_hqzMBpkDc0U8sXaENq-Gu4fOkFWNnzY",authDomain:"tripeaks-6be68.firebaseapp.com",databaseURL:"https://tripeaks-6be68.firebaseio.com",projectId:"tripeaks-6be68",storageBucket:"tripeaks-6be68.appspot.com",messagingSenderId:"392314635112"}),s.default.config.productionTip=!1,new s.default({el:"#app",router:z,store:O,components:{App:a},template:"<App/>"})},"V+Nd":function(t,e){},aAi1:function(t,e){},hHgz:function(t,e){},sjFc:function(t,e){},u1xA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c24b00eeac677b2b2de2.js.map